var div=document.querySelectorAll("div")[1],button=document.querySelector("button");button.addEventListener("click",function(){"hidden"==div.className?(document.querySelectorAll("div")[0].className="open",hiddenP(),div.className="show"):(showP(),document.querySelectorAll("div")[0].className="closed",div.className="hidden")}),document.addEventListener("click",function(){"show"==div.className?button.className="btnclosed":button.className="btn"}),document.addEventListener("keydown",function(e){27==e.keyCode?button.className="btn":button.className="btnclosed"});var span=document.querySelector("span");function hiddenP(){for(i=0;i<document.querySelectorAll("p").length;i++)document.querySelectorAll("p")[i].className="text_off"}function showP(){for(i=0;i<document.querySelectorAll("p").length;i++)document.querySelectorAll("p")[i].className=""}span.addEventListener("click",function(){showP(),document.querySelectorAll("div")[0].className="close",div.className="hidden"}),document.addEventListener("keydown",function(e){27==e.keyCode&&(showP(),document.querySelectorAll("div")[0].className="close",div.className="hidden")}),document.querySelectorAll("input")[0].addEventListener("keypress",function(){var e=document.querySelectorAll("input")[0].value;/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{1,4})+$/.test(e)?(document.querySelectorAll("input")[1].disabled="",document.querySelectorAll("input")[1].className="vbtn"):(document.querySelectorAll("input")[1].disabled="disabled",document.querySelectorAll("input")[1].className="vbtndbld")}),document.addEventListener("submit",function(e){e.preventDefault(),$.ajax({method:"POST",url:"script.php",data:{mail:document.querySelector("#mail").value}}).done(function(e){console.log(e),"ok"==e?alert("Ok"):(alert("No"),console.log("no"))}),div.className="hidden";var t=document.createElement("p"),n=document.createTextNode("Votre demande a bien été prise en compte");t.appendChild(n),document.body.querySelectorAll("div")[0].append(t),document.querySelectorAll("div")[0].className="close",button.className="btn",showP()});